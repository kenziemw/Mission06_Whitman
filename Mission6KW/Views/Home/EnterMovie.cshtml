@model Mission6KW.Models.Movie

<h2>Add a New Movie</h2>

@if (ViewBag.SuccessMessage != null)
{
    <!-- Display a success message if a movie is added successfully -->
    <div class="alert alert-success">
        @ViewBag.SuccessMessage
    </div>
}

<!-- Movie entry form with onsubmit event to clear the form after submission -->
<form asp-action="EnterMovie" method="post" onsubmit="clearForm()">
    
    <!-- Title Input Field -->
    <div class="form-group">
        <label>Title</label>
        <input asp-for="Title" class="form-control" required>
    </div>

    <!-- Category Input Field -->
    <div class="form-group">
        <label>Category</label>
        <input asp-for="Category" class="form-control" required>
    </div>

    <!-- Director Input Field -->
    <div class="form-group">
        <label>Director</label>
        <input asp-for="Director" class="form-control" required>
    </div>

    <!-- Year Input Field (only allows numbers) -->
    <div class="form-group">
        <label>Year</label>
        <input asp-for="Year" type="number" class="form-control" required>
    </div>

    <!-- Rating Dropdown -->
    <div class="form-group">
        <label>Rating</label>
        <select asp-for="Rating" class="form-control">
            <option>G</option>
            <option>PG</option>
            <option>PG-13</option>
            <option>R</option>
        </select>
    </div>

    <!-- Edited Checkbox (Yes/No option) -->
    <div class="form-group">
        <label>Edited</label>
        <input asp-for="Edited" type="checkbox">
    </div>

    <!-- Lent To Input Field (optional, in case the movie is loaned out) -->
    <div class="form-group">
        <label>Lent To</label>
        <input asp-for="LentTo" class="form-control">
    </div>

    <!-- Notes Input Field (optional, limited to 25 characters) -->
    <div class="form-group">
        <label>Notes</label>
        <input asp-for="Notes" class="form-control" maxlength="25">
    </div>

    <!-- Submit Button -->
    <button type="submit" class="btn btn-primary">Save</button>
</form>

<!-- JavaScript function to clear the form after submission -->
<script>
    function clearForm() {
        setTimeout(() => {
            document.querySelector("form").reset(); // Resets the form fields
        }, 100); // Small delay to ensure form submission is processed first
    }
</script>
